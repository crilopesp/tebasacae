<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TEBASACAE</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="layout" id="layout">
      <section class="pane video-pane">
        <iframe
          id="videoFrame"
          title="Video stream"
          allow="autoplay; fullscreen"
          allowfullscreen
        ></iframe>
      </section>

      <aside class="pane chat-pane" id="chatPane" hidden>
        <section class="official-chat" id="officialChat" hidden>
          <iframe
            id="officialChatFrame"
            title="Chat oficial de Twitch"
            allow="autoplay"
          ></iframe>
        </section>

        <section class="custom-chat" id="customChat" hidden>
          <header class="chat-header">
            <p class="chat-title">Chat</p>
            <p class="chat-meta">
              <span id="chatChannelLabel">-</span>
              <span class="chat-dot">â€¢</span>
              <span id="chatStatus">offline</span>
            </p>
          </header>
          <div class="chat-pin" id="chatPinned" hidden aria-live="polite"></div>
          <div class="chat-messages" id="chatMessages"></div>
        </section>
      </aside>
    </main>

    <nav class="dock" aria-label="Selector de fuente">
      <button class="settings-btn" aria-label="Ajustes de vista">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path
            d="M10 6h10v2H10zm0 10h10v2H10zM4 4a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 10a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"
          />
        </svg>
      </button>

      <div class="dock-panel">
        <div class="selector-group">
          <p class="selector-title">Directo</p>
          <div class="selector compact">
            <button class="source-btn" data-kind="video-source" data-source="twitch" aria-label="Video Twitch">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 2 2 6v13h5v3l3-3h4l6-6V2H5zm13 10-3 3h-4l-2 2v-2H5V4h13v8z" />
                <path d="M10 7h2v5h-2zm4 0h2v5h-2z" />
              </svg>
            </button>

            <button class="source-btn" data-kind="video-source" data-source="youtube" aria-label="Video YouTube">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M22 12c0 2.3-.2 3.8-.4 4.5a3 3 0 0 1-2.1 2.1c-.7.2-3 .4-7.5.4s-6.8-.2-7.5-.4a3 3 0 0 1-2.1-2.1C2.2 15.8 2 14.3 2 12s.2-3.8.4-4.5a3 3 0 0 1 2.1-2.1C5.2 5.2 7.5 5 12 5s6.8.2 7.5.4a3 3 0 0 1 2.1 2.1c.2.7.4 2.2.4 4.5z" />
                <path d="m10 8.8 5.8 3.2-5.8 3.2z" class="play" />
              </svg>
            </button>
          </div>
        </div>

        <span class="sep" aria-hidden="true"></span>

        <div class="selector-group">
          <p class="selector-title">Chat</p>
          <div class="selector compact">
            <button
              class="source-btn chat-twitch-btn"
              data-kind="chat-source"
              data-source="twitch-official"
              aria-label="Chat oficial de Twitch"
            >
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 2 2 6v13h5v3l3-3h4l6-6V2H5zm13 10-3 3h-4l-2 2v-2H5V4h13v8z" />
                <path d="M10 7h2v5h-2zm4 0h2v5h-2z" />
              </svg>
            </button>

            <button
              class="source-btn chat-twitch-btn"
              data-kind="chat-source"
              data-source="twitch-7tv"
              aria-label="Chat Twitch con 7TV"
            >
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 2 2 6v13h5v3l3-3h4l6-6V2H5zm13 10-3 3h-4l-2 2v-2H5V4h13v8z" />
                <path d="M10 7h2v5h-2zm4 0h2v5h-2z" />
              </svg>
              <span class="chat-source-mark chat-source-mark-7tv" aria-hidden="true">7TV</span>
            </button>

            <button class="source-btn" data-kind="chat-source" data-source="none" aria-label="Desactivar chat">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 5h16v10H8l-4 4z" />
                <path d="M6 6 18 18" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" fill="none" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <button type="button" class="dock-backdrop" id="dockBackdrop" aria-label="Cerrar ajustes" tabindex="-1"></button>
    <button
      type="button"
      class="chat-overlay-toggle"
      id="chatOverlayToggle"
      aria-label="Mostrar chat"
      aria-expanded="false"
      hidden
    >
      <svg class="chat-overlay-chevron" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M15 5 8 12l7 7" />
      </svg>
      <svg class="chat-overlay-bubble" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M5 5h14v9H9l-4 4z" />
      </svg>
    </button>

    <script src="twitch-chat.js"></script>
    <script src="app.js"></script>
  </body>
</html>
