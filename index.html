<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TEBASACAE</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="layout" id="layout">
      <section class="pane video-pane">
        <iframe
          id="videoFrame"
          title="Video stream"
          allow="autoplay; fullscreen"
          allowfullscreen
        ></iframe>
        <div class="video-tap-layer" id="videoTapLayer" aria-hidden="true"></div>
      </section>

      <aside class="pane chat-pane" id="chatPane" hidden>
        <section class="official-chat" id="officialChat" hidden>
          <iframe
            id="officialChatFrame"
            title="Chat oficial de Twitch"
            allow="autoplay"
          ></iframe>
        </section>

        <section class="custom-chat" id="customChat" hidden>
          <header class="chat-header">
            <p class="chat-title">Chat</p>
            <p class="chat-meta">
              <span id="chatChannelLabel">-</span>
              <span class="chat-dot">â€¢</span>
              <span id="chatStatus">offline</span>
            </p>
          </header>
          <div class="chat-pin" id="chatPinned" hidden aria-live="polite"></div>
          <div class="chat-messages" id="chatMessages"></div>
        </section>
      </aside>
    </main>

    <nav class="dock" aria-label="Selector de fuente">
      <button class="settings-btn" aria-label="Ajustes de vista">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path
            d="M10 6h10v2H10zm0 10h10v2H10zM4 4a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 10a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"
          />
        </svg>
      </button>

      <div class="dock-panel">
        <div class="selector-group">
          <p class="selector-title">Directo</p>
          <div class="selector compact">
            <button class="source-btn" data-kind="video-source" data-source="twitch" aria-label="Video Twitch">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 2 2 6v13h5v3l3-3h4l6-6V2H5zm13 10-3 3h-4l-2 2v-2H5V4h13v8z" />
                <path d="M10 7h2v5h-2zm4 0h2v5h-2z" />
              </svg>
            </button>

            <button class="source-btn" data-kind="video-source" data-source="youtube" aria-label="Video YouTube">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M23 8s-.2-1.7-.8-2.4c-.8-.9-1.7-.9-2.1-1C17 4.4 12 4.4 12 4.4h0s-5 0-8.1.2c-.4 0-1.3.1-2.1 1C1.2 6.3 1 8 1 8S.8 10 .8 12v1.9C.8 16 .9 18 1 18s.2 1.7.8 2.4c.8.9 1.9.9 2.4 1 1.8.2 7.8.2 7.8.2s5 0 8.1-.2c.4 0 1.3-.1 2.1-1 .6-.7.8-2.4.8-2.4s.2-2 .2-4.1V12c0-2-.2-4-.2-4z"
                />
                <path d="m9.8 15.5 6.3-3.5-6.3-3.5z" class="play" />
              </svg>
            </button>
          </div>
        </div>

        <span class="sep" aria-hidden="true"></span>

        <div class="selector-group">
          <p class="selector-title">Chat</p>
          <div class="selector compact">
            <button
              class="source-btn chat-twitch-btn"
              data-kind="chat-source"
              data-source="twitch-official"
              aria-label="Chat oficial de Twitch"
            >
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 2 2 6v13h5v3l3-3h4l6-6V2H5zm13 10-3 3h-4l-2 2v-2H5V4h13v8z" />
                <path d="M10 7h2v5h-2zm4 0h2v5h-2z" />
              </svg>
            </button>

            <button
              class="source-btn chat-twitch-btn"
              data-kind="chat-source"
              data-source="twitch-7tv"
              aria-label="Chat Twitch con 7TV"
            >
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 2 2 6v13h5v3l3-3h4l6-6V2H5zm13 10-3 3h-4l-2 2v-2H5V4h13v8z" />
                <path d="M10 7h2v5h-2zm4 0h2v5h-2z" />
              </svg>
              <span class="chat-source-mark chat-source-mark-7tv" aria-hidden="true">7TV</span>
            </button>

            <button class="source-btn" data-kind="chat-source" data-source="none" aria-label="Desactivar chat">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 4h16v11H8l-4 4z" />
                <path d="M5 5 19 19" stroke="currentColor" stroke-width="2" fill="none" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <button type="button" class="dock-backdrop" id="dockBackdrop" aria-label="Cerrar ajustes" tabindex="-1"></button>

    <script src="twitch-chat.js"></script>
    <script src="app.js"></script>
  </body>
</html>
